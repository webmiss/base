(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f3449b2"],{"0ec5":function(t,e,n){"use strict";var a=function(t,e,n){var a=e.width||0,i=e.height||0,c=e.cut||!0,o=e.quality||.8,d=e.ext||"jpg",r={jpg:"image/jpeg",png:"image/png",gif:"image/gif"},u=1,l=1,h=0,s=0,m=1,g=u/l,f=document.createElement("canvas"),b=f.getContext("2d"),p=new Image;p.src=t,p.onload=function(){var t=this;g=t.width/t.height,a>0&&0==i?(u=a<t.width?a:t.width,l=a<t.width?Math.round(a/g):Math.round(t.width/g),a=u,i=l):0==a&&i>0?(u=i<t.height?Math.round(i*g):Math.round(t.height*g),l=i<t.height?i:t.height,a=u,i=l):0==a&&0==i?(u=t.width,l=t.height,a=u,i=l):(m=a/i,g>m?a<t.width?(u=c?Math.round(i*g):a,l=c?i:Math.round(a/g)):(u=c?Math.round(t.height*g):t.width,l=c?t.height:Math.round(t.width/g)):i<t.height?(u=c?a:Math.round(i*g),l=c?Math.round(a/g):i):(u=c?t.width:Math.round(t.height*g),l=c?Math.round(t.width/g):t.height)),f.width=a,f.height=i,h=Math.round(a-u)/2,s=Math.round(i-l)/2,b.drawImage(this,h,s,u,l);var e=f.toDataURL(r[d],o);n(e)}};e["a"]=function(t,e,n){try{var i=new plus.io.FileReader;i.readAsDataURL(t),i.onloadend=function(){e.ext||("image/jpeg"==t.type?e.ext="jpg":"image/png"==t.type?e.ext="png":"image/gif"==t.type&&(e.ext="gif")),a(this.result,e,n)}}catch(o){var c=new FileReader;c.readAsDataURL(t),c.onloadend=function(){e.ext||("image/jpeg"==t.type?e.ext="jpg":"image/png"==t.type?e.ext="png":"image/gif"==t.type&&(e.ext="gif")),a(this.result,e,n)}}}},3053:function(t,e,n){"use strict";n("6bf3")},"6bf3":function(t,e,n){},8801:function(t,e,n){},"99b6":function(t,e,n){"use strict";n("8801")},a382:function(t,e,n){"use strict";n.r(e);var a=n("7a23"),i=Object(a["hb"])("data-v-09cbe003");Object(a["I"])("data-v-09cbe003");var c={class:"demo_tinymce_but"},o=Object(a["n"])("提交内容");Object(a["G"])();var d=i((function(t,e,n,d,r,u){var l=Object(a["O"])("wm-tinymce"),h=Object(a["O"])("wm-button"),s=Object(a["O"])("wm-main");return Object(a["F"])(),Object(a["j"])(s,null,{default:i((function(){return[Object(a["o"])(l,{config:t.tinymce.init,upload:t.tinymce.upload,content:t.tinymce.content,"onUpdate:value":e[1]||(e[1]=function(e){return t.tinymce.content=e})},null,8,["config","upload","content"]),Object(a["o"])("div",c,[Object(a["o"])(h,{onClick:e[2]||(e[2]=function(e){return t.subContent()})},{default:i((function(){return[o]})),_:1})])]})),_:1})})),r=n("5502"),u=n("839f"),l=n("101e"),h=n("a5ab"),s=n("8de7"),m={Encode:function(t){return encodeURIComponent(t)},Decode:function(t){return decodeURIComponent(t)}},g=n("b288"),f=Object(a["hb"])("data-v-70f8b045"),b=f((function(t,e,n,i,c,o){return Object(a["F"])(),Object(a["j"])("div",null,[Object(a["o"])("div",{class:"wm-tinymce",innerHTML:t.content},null,8,["innerHTML"])])})),p=n("b85c"),v=(n("1276"),n("ac1f"),function(t,e){var n,a="js"==e||/js$/i.test(t),i=document.getElementsByTagName(a?"script":"link"),c=Object(p["a"])(i);try{for(c.s();!(n=c.n()).done;){var o=n.value,d=a?"src":"href";if(-1!=o[d].indexOf(t))return!0}}catch(r){c.e(r)}finally{c.f()}return!1}),j=function(t,e,n){var a=[],i=!1;e=e||!1;var c,o=Object(p["a"])(t);try{for(o.s();!(c=o.n()).done;){var d=c.value;if(i=v(d,n),e&&(i=!1),a=d.split("."),"js"==a[a.length-1]||"js"==n){if(!i){var r=document.createElement("script");r.setAttribute("src",d),document.body.appendChild(r)}}else if(("css"==a[a.length-1]||"css"==n)&&!i){var u=document.createElement("link");u.setAttribute("rel","stylesheet"),u.setAttribute("href",d),document.body.appendChild(u)}}}catch(l){o.e(l)}finally{o.f()}},w=n("0ec5"),y=Object(a["p"])({name:"TinyMCE",props:{config:{default:{}},content:{default:""},upload:{default:{start:!1,width:0,height:0,url:""}}},data:function(){var t=this,e={selector:".wm-tinymce",language:"zh_CN",height:480,menubar:!1,branding:!1,elementpath:!1,toolbar:"undo redo | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | table image media | removeformat | preview help",toolbar_items_size:"small",plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],content_style:"img {max-width:100%;}",init_instance_callback:function(e){e.on("NodeChange Change KeyUp SetContent",(function(){t.$emit("update:value",e.getContent())}))}};return{defInit:e}},mounted:function(){this.init()},methods:{init:function(){var t=this;j(["/tinymce/tinymce.min.js"]),setTimeout((function(){var e=t.config;for(var n in e)t.defInit[n]=e[n];t.upload.start&&(t.defInit.paste_data_images=!0,t.defInit.images_upload_handler=function(e,n,a){var i=e.blob();Object(w["a"])(i,{width:t.upload.width,height:t.upload.height},(function(e){Object(s["a"])(t.upload.url,{token:h["a"].getItem("token"),base64:e},(function(t){var e=t.data;return 0==e.code?n(e.img):n(""),Object(l["a"])(e.msg)}))}))}),tinymce.init(t.defInit)}),600)}}});y.render=b,y.__scopeId="data-v-70f8b045";var O=y,_=n("903b"),M=Object(a["p"])({components:{wmMain:g["a"],wmTinymce:O,wmButton:_["a"]},data:function(){var t=Object(r["b"])(),e=t.state,n={init:{menubar:!0,height:540},upload:{start:!0,width:640,url:"/demo/tinymce/upImg"},content:""};return{state:e,tinymce:n}},methods:{subContent:function(){var t=this.tinymce.content,e=Object(u["a"])();Object(s["a"])("/demo/tinymce/edit",{token:h["a"].getItem("token"),content:m.Encode(t)},(function(t){e.clear();var n=t.data;return 0==n.code&&console.log(m.Decode(n.content)),Object(l["a"])(n.msg)}))}}});n("3053");M.render=d,M.__scopeId="data-v-09cbe003";e["default"]=M},b288:function(t,e,n){"use strict";var a=n("7a23"),i=Object(a["hb"])("data-v-49054b17"),c=i((function(t,e,n,i,c,o){return Object(a["F"])(),Object(a["j"])("div",{class:"wm-main wm-main_y",style:{width:"calc(100% - "+2*t.padding+"px)",height:"calc(100% - "+2*t.padding+"px)",padding:t.padding+"px"}},[Object(a["N"])(t.$slots,"default",{},void 0,!0)],4)})),o=(n("a9e3"),Object(a["p"])({name:"Main",props:{padding:{type:Number,default:16}}}));n("99b6");o.render=c,o.__scopeId="data-v-49054b17";e["a"]=o}}]);