(self["webpackChunkwebmis_vue"]=self["webpackChunkwebmis_vue"]||[]).push([[306],{9341:function(t,e,n){"use strict";var r=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){return 1},1)}))}},4362:function(t,e,n){var r=n(1589),a=Math.floor,l=function(t,e){var n=t.length,o=a(n/2);return n<8?i(t,e):u(t,l(r(t,0,o),e),l(r(t,o),e),e)},i=function(t,e){var n,r,a=t.length,l=1;while(l<a){r=l,n=t[l];while(r&&e(t[r-1],n)>0)t[r]=t[--r];r!==l++&&(t[r]=n)}return t},u=function(t,e,n,r){var a=e.length,l=n.length,i=0,u=0;while(i<a||u<l)t[i+u]=i<a&&u<l?r(e[i],n[u])<=0?e[i++]:n[u++]:i<a?e[i++]:n[u++];return t};t.exports=l},5117:function(t,e,n){"use strict";var r=n(6330),a=TypeError;t.exports=function(t,e){if(!delete t[e])throw a("Cannot delete property "+r(e)+" of "+r(t))}},7207:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},8886:function(t,e,n){var r=n(8113),a=r.match(/firefox\/(\d+)/i);t.exports=!!a&&+a[1]},256:function(t,e,n){var r=n(8113);t.exports=/MSIE|Trident/.test(r)},8008:function(t,e,n){var r=n(8113),a=r.match(/AppleWebKit\/(\d+)\./);t.exports=!!a&&+a[1]},2707:function(t,e,n){"use strict";var r=n(2109),a=n(1702),l=n(9662),i=n(7908),u=n(6244),o=n(5117),d=n(1340),c=n(7293),s=n(4362),f=n(9341),m=n(8886),h=n(256),p=n(7392),v=n(8008),w=[],_=a(w.sort),g=a(w.push),b=c((function(){w.sort(void 0)})),k=c((function(){w.sort(null)})),W=f("sort"),x=!c((function(){if(p)return p<70;if(!(m&&m>3)){if(h)return!0;if(v)return v<603;var t,e,n,r,a="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)w.push({k:e+r,v:n})}for(w.sort((function(t,e){return e.v-t.v})),r=0;r<w.length;r++)e=w[r].k.charAt(0),a.charAt(a.length-1)!==e&&(a+=e);return"DGBEFHACIJK"!==a}})),y=b||!k||!W||!x,Z=function(t){return function(e,n){return void 0===n?-1:void 0===e?1:void 0!==t?+t(e,n)||0:d(e)>d(n)?1:-1}};r({target:"Array",proto:!0,forced:y},{sort:function(t){void 0!==t&&l(t);var e=i(this);if(x)return void 0===t?_(e):_(e,t);var n,r,a=[],d=u(e);for(r=0;r<d;r++)r in e&&g(a,e[r]);s(a,Z(t)),n=a.length,r=0;while(r<n)e[r]=a[r++];while(r<d)o(e,r++);return e}})},561:function(t,e,n){"use strict";var r=n(2109),a=n(7908),l=n(1400),i=n(9303),u=n(6244),o=n(7207),d=n(5417),c=n(6135),s=n(5117),f=n(1194),m=f("splice"),h=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!m},{splice:function(t,e){var n,r,f,m,v,w,_=a(this),g=u(_),b=l(t,g),k=arguments.length;for(0===k?n=r=0:1===k?(n=0,r=g-b):(n=k-2,r=p(h(i(e),0),g-b)),o(g+n-r),f=d(_,r),m=0;m<r;m++)v=b+m,v in _&&c(f,m,_[v]);if(f.length=r,n<r){for(m=b;m<g-r;m++)v=m+r,w=m+n,v in _?_[w]=_[v]:s(_,w);for(m=g;m>g-r+n;m--)s(_,m-1)}else if(n>r)for(m=g-r;m>b;m--)v=m+r-1,w=m+n-1,v in _?_[w]=_[v]:s(_,w);for(m=0;m<n;m++)_[m+b]=arguments[m+2];return _.length=g-r+n,f}})},8306:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var r=n(6252),a=n(3577);function l(t,e,n,l,i,u){return(0,r.wg)(),(0,r.iD)("span",{class:"wm-action_add",style:(0,a.j5)({padding:t.size,backgroundColor:t.bgColor})},null,4)}var i=n(7830),u=(0,r.aZ)({name:"ActionAdd",props:{size:{type:String,default:"11px"},bgColor:{type:String,default:i.Z.themes.primary.plain[0]}}}),o=n(3744);const d=(0,o.Z)(u,[["render",l],["__scopeId","data-v-48dabb4f"]]);var c=d},1651:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var r=n(6252),a=n(3577);function l(t,e,n,l,i,u){return(0,r.wg)(),(0,r.iD)("span",{class:"wm-action_close",style:(0,a.j5)({padding:t.size,backgroundColor:t.bgColor})},null,4)}var i=n(7830),u=(0,r.aZ)({name:"ActionClose",props:{size:{type:String,default:"11px"},bgColor:{type:String,default:i.Z.themes.danger.plain[0]}}}),o=n(3744);const d=(0,o.Z)(u,[["render",l],["__scopeId","data-v-88899c5c"]]);var c=d},8570:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return kt}});n(2707),n(8309);var r=n(6252),a=n(9963),l=n(3577),i=function(t){return(0,r.dD)("data-v-5c287a70"),t=t(),(0,r.Cn)(),t},u={class:"flex"},o={class:"app_ct_left"},d={class:"app_sea_title flex"},c=i((function(){return(0,r._)("h2",null,"搜索",-1)})),s=i((function(){return(0,r._)("i",{class:"ui ui_arrow_left"},null,-1)})),f=[s],m={class:"app_sea_form"},h={class:"input"},p={class:"app_sea_sub"},v=(0,r.Uk)("搜 索"),w={class:"app_action_body flex_left"},_=i((function(){return(0,r._)("i",{class:"ui ui_search"},null,-1)})),g=[_],b={class:"app_action_list flex_left"},k={class:"app_ct_body"},W=i((function(){return(0,r._)("td",{width:"40"},"ID",-1)})),x=i((function(){return(0,r._)("td",{width:"40"},"FID",-1)})),y=i((function(){return(0,r._)("td",null,"名称",-1)})),Z=i((function(){return(0,r._)("td",null,"英文",-1)})),C=i((function(){return(0,r._)("td",{width:"40",class:"tCenter"},"图标",-1)})),U=i((function(){return(0,r._)("td",{width:"140"},"创建时间",-1)})),D=i((function(){return(0,r._)("td",{width:"140"},"更新时间",-1)})),S=i((function(){return(0,r._)("td",{width:"60",class:"tCenter"},"排序",-1)})),I=i((function(){return(0,r._)("td",{width:"60",class:"tCenter"},"权限",-1)})),A=i((function(){return(0,r._)("td",null,"URL",-1)})),z=i((function(){return(0,r._)("td",null,"API",-1)})),M={width:"30",class:"checkbox wm-table_checkbox"},F={class:"tCenter"},R={key:0,class:"menus_icon"},P={key:1},T={class:"tCenter"},E={class:"tCenter"},J=(0,r.Uk)("设置"),K=(0,r.Uk)("编辑"),j={key:2},L=(0,r.Uk)("添 加"),N=(0,r.Uk)("保 存"),O=(0,r.Uk)("是否删除已选择数据？"),q=(0,r.Uk)("彻底删除"),H=i((function(){return(0,r._)("td",null,"名称",-1)})),B=i((function(){return(0,r._)("td",null,"动作",-1)})),Y=i((function(){return(0,r._)("td",{width:"100"},"权限",-1)})),$={width:"30"},G={class:"perm_an"},V={class:"perm_an"},Q=(0,r.Uk)("更 新");function X(t,e,n,i,s,_){var X=(0,r.up)("wm-input"),tt=(0,r.up)("wm-button"),et=(0,r.up)("wm-checkbox"),nt=(0,r.up)("wm-table"),rt=(0,r.up)("wm-page"),at=(0,r.up)("wm-main"),lt=(0,r.up)("wm-cascader"),it=(0,r.up)("wm-form-item"),ut=(0,r.up)("wm-form"),ot=(0,r.up)("wm-dialog"),dt=(0,r.up)("wm-row"),ct=(0,r.up)("wm-add"),st=(0,r.up)("wm-close");return(0,r.wg)(),(0,r.iD)("div",u,[(0,r.wy)((0,r._)("div",o,[(0,r._)("div",d,[c,(0,r._)("span",{onClick:e[0]||(e[0]=function(e){return t.state.menuSea=!1})},f)]),(0,r._)("ul",m,[(0,r._)("li",null,[(0,r.Wm)(X,{value:t.sea.form.fid,"onUpdate:value":e[1]||(e[1]=function(e){return t.sea.form.fid=e}),placeholder:"FID"},null,8,["value"])]),(0,r._)("li",null,[(0,r.Wm)(X,{value:t.sea.form.title,"onUpdate:value":e[2]||(e[2]=function(e){return t.sea.form.title=e}),placeholder:"菜单名称"},null,8,["value"])]),(0,r._)("li",null,[(0,r.Wm)(X,{value:t.sea.form.en,"onUpdate:value":e[3]||(e[3]=function(e){return t.sea.form.en=e}),placeholder:"英文名称"},null,8,["value"])]),(0,r._)("li",null,[(0,r._)("div",h,[(0,r.Wm)(X,{value:t.sea.form.url,"onUpdate:value":e[4]||(e[4]=function(e){return t.sea.form.url=e}),placeholder:"API关键字"},null,8,["value"])])])]),(0,r._)("div",p,[(0,r.Wm)(tt,{onClick:e[5]||(e[5]=function(e){return t.subSea()}),height:"32px"},{default:(0,r.w5)((function(){return[v]})),_:1})])],512),[[a.F8,t.state.menuSea]]),(0,r._)("div",{class:"app_ct_right",style:(0,l.j5)({width:t.state.menuSea?"calc(100% - 240px)":"100%"})},[(0,r._)("div",w,[(0,r.wy)((0,r._)("div",{class:"app_action_sea",onClick:e[6]||(e[6]=function(e){return t.state.menuSea=!0})},g,512),[[a.F8,!t.state.menuSea]]),(0,r._)("ul",b,[t.getters.actionShow("add")?((0,r.wg)(),(0,r.iD)("li",{key:0,onClick:e[7]||(e[7]=function(e){return t.add.show=!0})},"添加")):(0,r.kq)("",!0),t.getters.actionShow("edit")?((0,r.wg)(),(0,r.iD)("li",{key:1,onClick:e[8]||(e[8]=function(e){return t.editData()})},"编辑")):(0,r.kq)("",!0),t.getters.actionShow("del")?((0,r.wg)(),(0,r.iD)("li",{key:2,onClick:e[9]||(e[9]=function(e){return t.delData()})},"删除")):(0,r.kq)("",!0)])]),(0,r._)("div",k,[(0,r.Wm)(at,null,{default:(0,r.w5)((function(){return[(0,r.Wm)(nt,{ref:"Table",data:t.page.list,style:{"min-width":"1200px"}},{title:(0,r.w5)((function(){return[W,x,y,Z,C,U,D,S,I,A,z]})),default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.page.list,(function(e,n){return(0,r.wg)(),(0,r.iD)("tr",{key:n},[(0,r._)("td",M,[(0,r.Wm)(et,{value:e.id},null,8,["value"])]),(0,r._)("td",null,(0,l.zw)(e.id),1),(0,r._)("td",null,(0,l.zw)(e.fid),1),(0,r._)("td",null,[(0,r._)("b",null,(0,l.zw)(e.title),1)]),(0,r._)("td",null,(0,l.zw)(e.en),1),(0,r._)("td",F,[e.ico?((0,r.wg)(),(0,r.iD)("span",R,[(0,r._)("i",{class:(0,l.C_)(e.ico)},null,2)])):((0,r.wg)(),(0,r.iD)("span",P,"-"))]),(0,r._)("td",null,(0,l.zw)(e.ctime),1),(0,r._)("td",null,(0,l.zw)(e.utime),1),(0,r._)("td",T,(0,l.zw)(e.sort),1),(0,r._)("td",E,[t.getters.actionShow("perm")&&e.controller&&!e.action?((0,r.wg)(),(0,r.j4)(tt,{key:0,type:"text",textColor:"danger",onClick:function(n){return t.permData(e.id,e.title,e.controller,e.action)}},{default:(0,r.w5)((function(){return[J]})),_:2},1032,["onClick"])):t.getters.actionShow("perm")&&e.controller&&e.action?((0,r.wg)(),(0,r.j4)(tt,{key:1,type:"text",onClick:function(n){return t.permData(e.id,e.title,e.controller,e.action)}},{default:(0,r.w5)((function(){return[K]})),_:2},1032,["onClick"])):((0,r.wg)(),(0,r.iD)("span",j,"-"))]),(0,r._)("td",null,(0,l.zw)(e.url),1),(0,r._)("td",null,(0,l.zw)(e.controller),1)])})),128))]})),_:1},8,["data"]),(0,r.Wm)(rt,{page:t.page.page,limit:t.page.limit,total:t.page.total,"onUpdate:page":t.subPage},null,8,["page","limit","total","onUpdate:page"])]})),_:1})])],4),(0,r.Wm)(ot,{title:"添加",width:"700px",show:t.add.show,"onUpdate:close":e[18]||(e[18]=function(e){return t.add.show=e})},{footer:(0,r.w5)((function(){return[(0,r.Wm)(tt,{onClick:e[17]||(e[17]=function(e){return t.subAdd()})},{default:(0,r.w5)((function(){return[L]})),_:1})]})),default:(0,r.w5)((function(){return[(0,r.Wm)(ut,{class:"form"},{default:(0,r.w5)((function(){return[(0,r.Wm)(it,{label:"所属"},{default:(0,r.w5)((function(){return[(0,r.Wm)(lt,{width:"240px",value:t.menus.value,"onUpdate:value":e[10]||(e[10]=function(e){return t.menus.value=e}),data:t.menus.data,checkStrictly:"",clearable:""},null,8,["value","data"])]})),_:1}),(0,r.Wm)(it,{label:"名称"},{default:(0,r.w5)((function(){return[(0,r.Wm)(X,{value:t.add.form.title,"onUpdate:value":e[11]||(e[11]=function(e){return t.add.form.title=e}),maxlength:"8",maxWidth:"80%",placeholder:"菜单名称",clearable:""},null,8,["value"])]})),_:1}),(0,r.Wm)(it,{label:"英文"},{default:(0,r.w5)((function(){return[(0,r.Wm)(X,{value:t.add.form.en,"onUpdate:value":e[12]||(e[12]=function(e){return t.add.form.en=e}),maxlength:"16",maxWidth:"80%",placeholder:"英文名称",clearable:""},null,8,["value"])]})),_:1}),(0,r.Wm)(it,{label:"URL"},{default:(0,r.w5)((function(){return[(0,r.Wm)(X,{value:t.add.form.url,"onUpdate:value":e[13]||(e[13]=function(e){return t.add.form.url=e}),maxlength:"24",maxWidth:"80%",placeholder:"URL",clearable:""},null,8,["value"])]})),_:1}),(0,r.Wm)(it,{label:"API"},{default:(0,r.w5)((function(){return[(0,r.Wm)(X,{value:t.add.form.controller,"onUpdate:value":e[14]||(e[14]=function(e){return t.add.form.controller=e}),maxlength:"64",maxWidth:"80%",placeholder:"例如: /admin/sys_menus",clearable:""},null,8,["value"])]})),_:1}),(0,r.Wm)(it,{label:"图标样式"},{default:(0,r.w5)((function(){return[(0,r.Wm)(X,{value:t.add.form.ico,"onUpdate:value":e[15]||(e[15]=function(e){return t.add.form.ico=e}),maxlength:"32",maxWidth:"80%",placeholder:"图标样式",clearable:""},null,8,["value"])]})),_:1}),(0,r.Wm)(it,{label:"排序"},{default:(0,r.w5)((function(){return[(0,r.Wm)(X,{value:t.add.form.sort,"onUpdate:value":e[16]||(e[16]=function(e){return t.add.form.sort=e}),maxlength:"2",maxWidth:"240px",placeholder:"例如: 1、2、3"},null,8,["value"])]})),_:1})]})),_:1})]})),_:1},8,["show"]),(0,r.Wm)(ot,{title:"编辑",width:"700px",show:t.edit.show,"onUpdate:close":e[27]||(e[27]=function(e){return t.edit.show=e})},{footer:(0,r.w5)((function(){return[(0,r.Wm)(tt,{onClick:e[26]||(e[26]=function(e){return t.subEdit()})},{default:(0,r.w5)((function(){return[N]})),_:1})]})),default:(0,r.w5)((function(){return[(0,r.Wm)(ut,{class:"form"},{default:(0,r.w5)((function(){return[(0,r.Wm)(it,{label:"所属"},{default:(0,r.w5)((function(){return[(0,r.Wm)(lt,{width:"240px",value:t.menus.value,"onUpdate:value":e[19]||(e[19]=function(e){return t.menus.value=e}),data:t.menus.data,checkStrictly:"",clearable:""},null,8,["value","data"])]})),_:1}),(0,r.Wm)(it,{label:"名称"},{default:(0,r.w5)((function(){return[(0,r.Wm)(X,{value:t.edit.form.title,"onUpdate:value":e[20]||(e[20]=function(e){return t.edit.form.title=e}),maxlength:"8",maxWidth:"80%",placeholder:"菜单名称",clearable:""},null,8,["value"])]})),_:1}),(0,r.Wm)(it,{label:"英文"},{default:(0,r.w5)((function(){return[(0,r.Wm)(X,{value:t.edit.form.en,"onUpdate:value":e[21]||(e[21]=function(e){return t.edit.form.en=e}),maxlength:"16",maxWidth:"80%",placeholder:"英文名称",clearable:""},null,8,["value"])]})),_:1}),(0,r.Wm)(it,{label:"URL"},{default:(0,r.w5)((function(){return[(0,r.Wm)(X,{value:t.edit.form.url,"onUpdate:value":e[22]||(e[22]=function(e){return t.edit.form.url=e}),maxlength:"24",maxWidth:"80%",placeholder:"URL",clearable:""},null,8,["value"])]})),_:1}),(0,r.Wm)(it,{label:"API"},{default:(0,r.w5)((function(){return[(0,r.Wm)(X,{value:t.edit.form.controller,"onUpdate:value":e[23]||(e[23]=function(e){return t.edit.form.controller=e}),maxlength:"64",maxWidth:"80%",placeholder:"例如: /admin/sys_menus",clearable:""},null,8,["value"])]})),_:1}),(0,r.Wm)(it,{label:"图标样式"},{default:(0,r.w5)((function(){return[(0,r.Wm)(X,{value:t.edit.form.ico,"onUpdate:value":e[24]||(e[24]=function(e){return t.edit.form.ico=e}),maxlength:"32",maxWidth:"80%",placeholder:"图标样式",clearable:""},null,8,["value"])]})),_:1}),(0,r.Wm)(it,{label:"排序"},{default:(0,r.w5)((function(){return[(0,r.Wm)(X,{value:t.edit.form.sort,"onUpdate:value":e[25]||(e[25]=function(e){return t.edit.form.sort=e}),maxlength:"2",maxWidth:"240px",placeholder:"例如: 1、2、3"},null,8,["value"])]})),_:1})]})),_:1})]})),_:1},8,["show"]),(0,r.Wm)(ot,{title:"删除",width:"320px",show:t.del.show,"onUpdate:close":e[29]||(e[29]=function(e){return t.del.show=e})},{footer:(0,r.w5)((function(){return[(0,r.Wm)(tt,{onClick:e[28]||(e[28]=function(e){return t.subDel()})},{default:(0,r.w5)((function(){return[q]})),_:1})]})),default:(0,r.w5)((function(){return[(0,r.Wm)(dt,null,{default:(0,r.w5)((function(){return[O]})),_:1})]})),_:1},8,["show"]),(0,r.Wm)(ot,{width:"640px",title:t.perm.title,show:t.perm.show,"onUpdate:close":e[32]||(e[32]=function(e){return t.perm.show=e})},{footer:(0,r.w5)((function(){return[(0,r.Wm)(tt,{onClick:e[31]||(e[31]=function(e){return t.subPerm()})},{default:(0,r.w5)((function(){return[Q]})),_:1})]})),default:(0,r.w5)((function(){return[(0,r.Wm)(nt,{isCheckbox:!1},{title:(0,r.w5)((function(){return[H,B,Y,(0,r._)("td",$,[(0,r._)("div",G,[(0,r.Wm)(ct,{onClick:e[30]||(e[30]=function(e){return t.permAdd()})})])])]})),default:(0,r.w5)((function(){return[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.perm.list,(function(e,n){return(0,r.wg)(),(0,r.iD)("tr",{key:n},[(0,r._)("td",null,[(0,r.Wm)(X,{value:e.name,"onUpdate:value":function(t){return e.name=t}},null,8,["value","onUpdate:value"])]),(0,r._)("td",null,[(0,r.Wm)(X,{value:e.action,"onUpdate:value":function(t){return e.action=t}},null,8,["value","onUpdate:value"])]),(0,r._)("td",null,[(0,r.Wm)(X,{value:e.perm,"onUpdate:value":function(t){return e.perm=t}},null,8,["value","onUpdate:value"])]),(0,r._)("td",null,[(0,r._)("div",V,[(0,r.Wm)(st,{onClick:function(e){return t.permRemove(n)}},null,8,["onClick"])])])])})),128))]})),_:1})]})),_:1},8,["title","show"])])}n(8862),n(561);var tt=n(3907),et=n(8907),nt=n(6492),rt=n(5783),at=n(2367),lt=n(6448),it=n(1566),ut=n(3576),ot=n(2458),dt=n(3351),ct=n(8306),st=n(1651),ft=n(6675),mt=n(7685),ht=n(7953),pt=n(8650),vt=n(2693),wt=n(1326),_t=(0,r.aZ)({components:{wmMain:lt.Z,wmRow:it.Z,wmTable:ut.Z,wmCheckbox:ot.Z,wmDialog:dt.Z,wmAdd:ct.Z,wmClose:st.Z,wmForm:ft.Z,wmFormItem:mt.Z,wmInput:ht.Z,wmButton:pt.Z,wmCascader:vt.Z,wmPage:wt.Z},data:function(){var t=(0,tt.oR)(),e=t.state,n=t.getters,r={list:[],page:1,limit:20,total:0},a={show:!1,form:{}},l={show:!1,form:{}},i={show:!1,id:"",form:{}},u={show:!1,ids:""},o={show:!1,id:"",title:"权限",list:[]},d=[],c={value:[],data:[]};return{state:e,getters:n,page:r,sea:a,add:l,edit:i,del:u,perm:o,keys:d,menus:c}},mounted:function(){at.Z.getItem("token")&&(this.loadData(),this.getMenus())},methods:{loadData:function(){var t=this;this.page.list=[],this.page.total=0;var e=(0,et.Z)();(0,rt.Z)("sys_menus/list",{token:at.Z.getItem("token"),page:this.page.page,limit:this.page.limit,data:JSON.stringify(this.sea.form)},(function(n){e.clear();var r=n.data;if(0!=r.code)return(0,nt.Z)(r.msg);t.page.list=r.list,t.page.total=r.total}))},subPage:function(t){this.page.page=t,this.loadData()},subSea:function(){this.page.page=1,this.loadData()},verify:function(t){return!t.title||t.title.length<2?"名称大于2个字符":""},subAdd:function(){var t=this,e=this.add.form;e.fid=this.getFid();var n=this.verify(e);if(n)return(0,nt.Z)(n);this.add.show=!1;var r=(0,et.Z)();(0,rt.Z)("sys_menus/add",{token:at.Z.getItem("token"),data:JSON.stringify(e)},(function(e){r.clear();var n=e.data;return 0===n.code&&(t.loadData(),t.getMenus()),(0,nt.Z)(n.msg)}))},editData:function(){var t=this.$refs.Table,e=t.getRow();if(!e)return(0,nt.Z)("请选择数据!");this.edit.show=!0,this.edit.id=e.id,this.edit.form.fid=e.fid,this.edit.form.title=e.title,this.edit.form.en=e.en,this.edit.form.url=e.url,this.edit.form.ico=e.ico,this.edit.form.sort=e.sort,this.edit.form.controller=e.controller,this.editKeys()},editKeys:function(){var t=this.edit.form.fid,e=this.menus.data,n=[];if(0!=t)for(var r in e){if(t==e[r].value){n=[r];break}if(e[r].children)for(var a in e[r].children){if(t==e[r].children[a].value){n=[r,a];break}if(e[r].children[a].children)for(var l in e[r].children[a].children){if(t==e[r].children[a].children[l].value){n=[r,a,l];break}if(e[r].children[a].children[l].children)for(var i in e[r].children[a].children[l].children)if(t==e[r].children[a].children[l].children[i].value){n=[r,a,l,i];break}}}}this.menus.value=n},subEdit:function(){var t=this,e=this.edit.form;e.fid=this.getFid();var n=this.verify(e);if(n)return(0,nt.Z)(n);this.edit.show=!1;var r=(0,et.Z)();(0,rt.Z)("sys_menus/edit",{token:at.Z.getItem("token"),id:this.edit.id,data:JSON.stringify(e)},(function(e){r.clear();var n=e.data;return 0===n.code&&(t.loadData(),t.getMenus()),(0,nt.Z)(n.msg)}))},delData:function(){var t=this.$refs.Table,e=t.getVals();if(!e)return(0,nt.Z)("请选择数据!");this.del.show=!0,this.del.ids=JSON.stringify(e)},subDel:function(){var t=this;this.del.show=!1;var e=(0,et.Z)();(0,rt.Z)("sys_menus/del",{token:at.Z.getItem("token"),data:this.del.ids},(function(n){e.clear();var r=n.data;return 0===r.code&&t.loadData(),(0,nt.Z)(r.msg)}))},getMenus:function(){var t=this;(0,rt.Z)("sys_menus/getMenusAll",{token:at.Z.getItem("token"),data:this.del.ids},(function(e){var n=e.data;0===n.code&&(t.menus.data=n.menus)}))},getFid:function(){var t=0,e=this.menus.value,n=e.length,r=this.menus.data;return 1==n&&(t=r[e[0]].value),2==n&&(t=r[e[0]].children[e[1]].value),3==n&&(t=r[e[0]].children[e[1]].children[e[2]].value),4==n&&(t=r[e[0]].children[e[1]].children[e[2]].children[e[3]].value),t},permData:function(t,e,n,r){this.perm.show=!0,this.perm.id=t,this.perm.title=e+": "+n,this.perm.list=r},subPerm:function(){var t=this,e=this.perm.list,n=[];for(var r in e)e[r].action&&e[r].perm&&n.push(e[r]);this.perm.list=n,this.perm.show=!1;var a=(0,et.Z)();(0,rt.Z)("sys_menus/perm",{token:at.Z.getItem("token"),id:this.perm.id,data:JSON.stringify(n)},(function(e){a.clear();var n=e.data;return 0===n.code&&t.loadData(),(0,nt.Z)(n.msg)}))},permAdd:function(){var t=this.perm.list;t.length>0?t.push({name:"",action:"",perm:2*t[t.length-1].perm}):this.perm.list=[{name:"",action:"",perm:1}]},permRemove:function(t){var e=this.perm.list;e.splice(t,1)}}}),gt=n(3744);const bt=(0,gt.Z)(_t,[["render",X],["__scopeId","data-v-5c287a70"]]);var kt=bt}}]);